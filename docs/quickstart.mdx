---
sidebar_position: 1
sidebar_label: Quickstart (10 min)
---

# Quickstart

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

export const GridContainer = ({children}) => (
  <div className="row">
    {children}
  </div>
);

export const GridChild = ({children}) => (
  <div className="column">
    {children}
  </div>
);

## Overview

The following guide will get you up and running as quickly as possible by covering the following 3 steps:

1. Install the Nblocks plugins for both Frontend and Backend.
1. Run our provided scripts to bootstrap your project with an initial scaffolding and other dependencies. During this phase you'll be able to signup directly.
1. Testing the result and doing a small branding excercise üòâ

:::note

This quickstart requires you to have `npm` installed.

:::

Lets go! üöÄ

## Getting Started
In this exercise we'll install **Nblocks** for both a frontent and a backend project to leverage the full plug-n-play experience and prebaked feature set.
At this moment we support Ionic Angular for the frontent project and NestJS for the backend.

During the backend setup; the scripts will let you choose to signup for your own app and have the new credentials resolve automatically or use our demo app playground which is shared across all testers.

:::tip Don't have a project yet?

If you don't have a project yet you can create new skeleton projects for both NestJS and Ionic.   
`nest new my-backend` and `ionic start my-frontend blank --type=angular`.   
Requires `@nestjs/cli` and `@ionic/cli`

:::

<GridContainer>
<GridChild>

### Backend
<Tabs>
<TabItem value="nestjs" label="NestJS" default>

1. Step into your NestJS project root and install the nblocks-nestjs plugin.
```bash
npm i @nebulr-group/nblocks-nestjs
```

2. Run scaffolding script and follow the installation guide.
```bash
npx @nebulr-group/nblocks-nestjs setup
```

3. Import the NBlocksModule in your app.module.ts
```typescript title="src/app.module.ts"
import { NBlocksModule } from '@nebulr-group/nblocks-nestjs';

@Module({
  imports: [NBlocksModule],
})
export class AppModule {}
```

4. Enable CORS in your main.ts since the Frontend project will need that to query data.
```typescript title="src/main.ts"
...
async function bootstrap() {
  ...
  app.enableCors();
  ...
  await app.listen(3000);
}
...
```

4. Launch your Backend. 
```bash
npm run start:dev
``` 

:::note

We support both NestJS 7 & 8.

:::

</TabItem>
</Tabs>

</GridChild>

<GridChild>

### Frontend
<Tabs>
<TabItem value="ionic" label="Ionic" default>

1. Step into your Ionic project root and run the scaffolding script to install our nblocks-ionic plugin and all it's dependencies.
```bash
npx @nebulr-group/nblocks-plugin-tool setup-ionic
```

2. Include the Nblocks css styles and styles from PrimeNG peer dependencies under **app > architect > build > options** in the angular.json file located in your project root.
Usually this property sits around row 34.
```json title="angular.json"
...
"styles": [
  ...
  "node_modules/primeicons/primeicons.css",
  "node_modules/primeng/resources/themes/saga-blue/theme.css",
  "node_modules/primeng/resources/primeng.min.css",
  "node_modules/@nebulr-group/nblocks-ionic/styles/global.css"
],
...
```

3. Import the NblocksIonicModule in your app.module.ts.
```typescript title="src/app/app.module.ts"
import { NblocksIonicModule, AUTH_HTTP_INTERCEPTOR_PROVIDERS } from '@nebulr-group/nblocks-ionic';

@NgModule({
    declarations: [AppComponent],
    entryComponents: [],
    imports: [
      ...
        NblocksIonicModule.forRoot({})

    providers: [
        ...
        AUTH_HTTP_INTERCEPTOR_PROVIDERS
})
```

4. Launch your Frontend. 
```bash
ionic serve
``` 

:::note

We support Ionic 5 & 6 and Angular 10, 11, 12, 13.

:::

</TabItem>
</Tabs>
</GridChild>
</GridContainer>

## Everything is installed and set! Let's try it!

### Logging in for the first time
1. Open up your web browser and navigate to your frontend project start screen. 
1. Append the current url with `/auth` like in `http://localhost:8100/auth` and hit enter. 
You should see your first glimpse of the Nblocks login screen üòé
1. If you signed up straight in your console you have received an email to onboard your first user, click that link now and set your first password and login. (If you choose to use the Demo app, login as `john.doe@example.com`, password `helloworld`)
1. You're now logged in and your session is kept between page reloads, congrats!

<img
  src={require('./assets/login.png').default}
  alt="Login screen"
  className="screenshot"
/>

### Customize your app branding

Wouldn't it be cool if your logo were used in both the UI and that onboarding email you received before instead?
While we're at it let's also try changing some colors and texts so you get a hang of it üòÉ

Here's an overview on the stuff we're changing here: 
* The email logo and footer.
* The UI logo.
* A text header on a page.
* The primary color for buttons and links.

#### Branding the email (Backend)

<Tabs>
<TabItem value="nestjs" label="NestJS" default>

First off we'll change the email appearance a bit. This part is actually stored on your app configuration in the Nblocks platform. 
The configuration can be changed in a lot of ways, using the built in API client, REST Http call or via the upcoming Web dashboard.    
But hold on! We've made it super simple for this quick start and all you need to do is the following two step:
1. Open your unique app-configuration.json file located in your nblocks folder which was put there by the setup script.
You can change the `logo` and `websiteUrl` to your own or if you do not have it available use these two.

```json title="nblocks/config/app-configuration.json"
{
	...
	"logo": "http://nblocks.dev/wp-content/uploads/2021/12/nblocks-testlogo.png",
	"websiteUrl": "https://app.example.com",
  ...
}
```

2. Great! Now we'll push the data so Nblocks stores these new values. In your terminal, navigate to the root of your backend project and run.
`npx @nebulr-group/nblocks-nestjs push-app-configuration`.

Awesome! The data has now been pushed and Nblocks will use this configuration in the future üöÄ

</TabItem>
</Tabs>

#### Branding the UI (Frontend)
<Tabs>
<TabItem value="ionic" label="Ionic" default>

1. Rember that NblocksIonicModule that you imported during installation? Let's give it a few configs instead of using the default ones! We'll tell it to use another logo by configuring the `logoPath`.

```typescript title="src/app/app.module.ts"

@NgModule({
  ...
      NblocksIonicModule.forRoot({
        logoPath: 'https://www.northwhistle.com/wp-content/uploads/2021/08/NorthWhistle-logo-retina-2.png',
      })
})
```

2. Open up the english language translation file found under assets. 
This, and other translation files, where put here by the setup script and defines the text content of all Nblocks views.
We'll replace the text of the translation key `NBLOCKS.AUTH.SET_NEW_PASSWORD` which is the title of the set-password page and set it to something nicer.
```json title="src/assets/i18n/nblocks_en.json"
{
	"NBLOCKS": {
    ...
		"AUTH": {
      ...
			"SET_NEW_PASSWORD": "It's time to set that first password ;)",
```

3. Lastly lets change the default Nblocks primary color for buttons and links and we wish to change it. 
This will be done by altering the `--ion-color-primary` color in the Ionic theme variable.scss.

```scss title="src/theme/variables.scss"
:root {
  /** primary **/
  --ion-color-primary: #434447;
```

üí• Perfect! You just did your first branding. We'll wait to unveal the results until you get to the next final step where you'll add a new user.

</TabItem>
</Tabs>

### Try adding a second user
Just one last step! This is where we see all things come together.

As a starter, we must make sure that we've protected the backend so that the Nblocks plugin will authorize and identify you before the requests hits the controllers.
This is achieved using the `resourceMappings.json` file which is read by the plugin during startup. 
:::note
Every time you change `resourceMappings.json`, a server restart is necessary for the changes to take effect.
:::
**Let's proceed!** üë®‚Äçüíª
1. 
Make all endpoints require the `USER_READ` privilege by adding this to the file and restart your backend server. 
```json title="nblocks/config/resourceMappings.json"
{
    "graphql/**": "USER_READ",
    "/**": "USER_READ"
}
```
2. Navigate your browser to `/user` as in `http://localhost:8100/user` to see the User management screen.
<img
  src={require('./assets/user-list.png').default}
  alt="User list"
  className=""
/>
3. Click add user, enter an alternative email address to yourself and click invite.
4. Check your inbox for a new onboarding email and click the link to start the onboarding process.
5. Remember that we customized the branding a bit? You're set-password page should look something like this now! üôÄ
<img
  src={require('./assets/branding.png').default}
  alt="Branding"
  className="screenshot"
/>
6. Go ahead and finish the onboarding to not leave this user hanging...

**Mission completed!** ü•ä

### That's all for today folks!
Great job with the quickstart! Now your app has been supercharged with Nblocks üöÄ and we got so much to show you what's under the hood.
You've just unlocked the next level and you're ready take on another challenge.

## Next steps
- Try another example and [query your first data](examples/querying-first-data).
- Read more about what's possible with [custom branding](concepts/branding.mdx).
- Get ready and [secure your app](concepts/security.mdx).
- Understand the concept of [Tenants and Users](concepts/tenants-users.mdx).

If you haven't already, join our [Discord](https://discord.gg/WgzfZrCP)
