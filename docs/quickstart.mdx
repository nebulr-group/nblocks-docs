---
sidebar_position: 1
sidebar_label: Quickstart (5 min)
---

# Quickstart

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

export const GridContainer = ({children}) => (
  <div className="row">
    {children}
  </div>
);

export const GridChild = ({children}) => (
  <div className="column">
    {children}
  </div>
);

## Overview

The following guide will get you up and running as quickly as possible by covering the following 3 steps:

1. Install the Nblocks plugins for both Frontend and Backend.
1. Run our provided scripts to bootstrap your project with an initial scaffolding and other dependencies. During this phase you'll be able to signup directly.
1. View the result and query some data

:::note

This quickstart requires you to have `npm` installed.

:::

Lets go! üöÄ

## Getting Started
In this excercise we'll install **Nblocks** for both a frontent and a backend project to levarage the full plug-n-play experience and prebaked feature set.
Pick whatever framework that suites your taste for each area.

During the backend setup; the scripts will let you choose to signup for your own app and have the new credentials resolve automatically or use our demo app playground which is shared accross all testers.
If you choose to signup, wait with clicking the onboard link until the guide says so.

:::tip

If you don't have a project yet you can create new skeleton projects for both NestJS and Ionic.   
`nest new my-backend` and `ionic start my-frontend blank --type=angular`.   
Requires `@nestjs/cli` and `@ionic/cli`

:::

<GridContainer>
<GridChild>

### Backend
<Tabs>
<TabItem value="nestjs" label="NestJS" default>

1. Install plugin.
```bash
npm i @nebulr-group/nblocks-nestjs
```

2. Run scaffolding script and choose to signup or use the demo app.
```bash
npx @nebulr-group/nblocks-nestjs setup
```

3. Import the module.
```typescript title="src/app.module.ts"
import { NBlocksModule } from '@nebulr-group/nblocks-nestjs';

@Module({
  imports: [NBlocksModule],
})
export class AppModule {}
```

4. Enable CORS since the Frontend project will need that to query data.
```typescript title="src/main.ts"
...
async function bootstrap() {
  ...
  app.enableCors();
  ...
  await app.listen(3000);
}
...
```

:::note

We support both NestJS 7 & 8.

:::

</TabItem>
<TabItem value="expressjs" label="Express.js">

Coming soon...

</TabItem>
</Tabs>
</GridChild>
<GridChild>

### Frontend
<Tabs>
<TabItem value="ionic" label="Ionic" default>

1. Run scaffolding script to install all dependencies.
```bash
npx @nebulr-group/nblocks-plugin-tool setup-ionic
```

2. Include the Nblocks css styles and styles from PrimeNG peer dependencies under build options in the angular.json file located in your project root.
```json title="angular.json"
...
"styles": [
  ...
  "node_modules/primeicons/primeicons.css",
  "node_modules/primeng/resources/themes/saga-blue/theme.css",
  "node_modules/primeng/resources/primeng.min.css",
  "node_modules/@nebulr-group/nblocks-ionic/styles/global.css"
],
...
```

3. Import the module
```typescript title="src/app/app.module.ts"
import { NblocksIonicModule, AUTH_HTTP_INTERCEPTOR_PROVIDERS } from '@nebulr-group/nblocks-ionic';

@NgModule({
    declarations: [AppComponent],
    entryComponents: [],
    imports: [
      ...
        NblocksIonicModule.forRoot({})

    providers: [
        ...
        AUTH_HTTP_INTERCEPTOR_PROVIDERS
})
```

:::note

We support Ionic 5 & 6 and Angular 10, 11, 12, 13.

:::

</TabItem>
<TabItem value="flutter" label="Flutter">
Coming soon...
</TabItem>
</Tabs>
</GridChild>
</GridContainer>

Finish of with launching both your backend and frontend project. E.g. `npm run start:dev` and `ionic serve`

## Let's see the result

### Logging in for the first time
1. Open up your web browser and navigate to your frontend project start screen. 
1. Append the current url with `/auth` like in `http://localhost:8100/auth` and hit enter. 
You should see your first glimpse of the Nblocks login screen üòé
1. If you choose to use Demo app, login as `john.doe@example.com`, password `helloworld`. If you signed up straight in your console you have receieved an email to onboard your first user, click that link now and set your first password and login.
1. You're now logged in and your session is kept between page reloads, congrats!

<img
  src={require('./assets/login.png').default}
  alt="Login screen"
  className="screenshot"
/>

### Try adding a user
1. Before we try to query sensitive data we must make sure that we've protected the backend endpoint so that the Nblocks guards will authorize and identify you.
Lets make all graphql endpoints require the `USER_READ` privilegue and restart your backend. 
```typescript title="nblocks/config/resourceMappings.json"
{
    "graphql/**": "USER_READ",
    "/**": "ANONYMOUS"
}
```
1. Navigate your browser to `/user` as in `http://localhost:8100/user` to see the User management screen
1. Click add user, enter a valid email address and click invite.
1. Check your inbox for an email and click the link to start the onboarding process

<img
  src={require('./assets/user-list.png').default}
  alt="User list"
  className="screenshot"
/>

### Querying data in backend
In this example, you'll code a small controller action that will render the current user list back.   
You'll be testing this by using your browser and navigate to `http://localhost:3000/nblocks-tenants`.
<Tabs>
<TabItem value="nestjs" label="NestJS" default>

1. Open the up the AppController.ts and inject ClientService provider from '@nebulr-group/nblocks-nestjs';
```typescript title=src/app.controller.ts
import { ClientService } from '@nebulr-group/nblocks-nestjs';
...
constructor(
    private readonly clientService: ClientService
  ) {}
```

2. Add a new controller action for `nblocks-tenants` path.
```typescript title=src/app.controller.ts
@Get('nblocks-tenants')
async nblocksTenants(): Promise<TenantResponseDto[]> {
  return this.clientService.client.tenants.list();
}
```

3. Expose the `nblocks-tenants` path as an open endpoint allowing anonymous calls and restart your server
```json title=nblocks/config/resourceMappings.json
{
  ...
  "/nblocks-tenants": "ANONYMOUS",
  ...
}
```

3. Open up a new browser tab and enter `http://localhost:3000/nblocks-tenants` and voila! üë®üèª‚Äçüç≥   
You should see a list of your app tenants in JSON format.



</TabItem>
<TabItem value="expressjs" label="Express.js">
Coming soon...
</TabItem>
</Tabs>

### That's all for today folks!

## Next steps
- Read how to use your [custom branding](guides/branding.mdx).
- Get ready and [secure your app](guides/security.mdx).
- Understand the concept of [Tenants and Users](guides/tenants-users.mdx).
- Go full hard core and checkout the [API client](guides/api-client.mdx) and [API reference](https://nebulr-group.github.io/nblocks-api-docs).