"use strict";(self.webpackChunknblocks_docs=self.webpackChunknblocks_docs||[]).push([[9698],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),c=p(n),h=a,m=c["".concat(s,".").concat(h)]||c[h]||d[h]||o;return n?r.createElement(m,l(l({ref:t},u),{},{components:n})):r.createElement(m,l({ref:t},u))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=c;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:a,l[1]=i;for(var p=2;p<o;p++)l[p]=n[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},4041:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var r=n(7462),a=(n(7294),n(3905));const o={sidebar_position:1,sidebar_label:"Play with GraphQL (5 min)"},l="Play with GraphQL playground",i={unversionedId:"tutorials/graphql-playground",id:"tutorials/graphql-playground",title:"Play with GraphQL playground",description:"Right after finishing quickstart we've made it so you got access to a web based editor playground to query and mutate the GraphQL endpoints.",source:"@site/docs/tutorials/graphql-playground.mdx",sourceDirName:"tutorials",slug:"/tutorials/graphql-playground",permalink:"/nblocks-docs/docs/tutorials/graphql-playground",draft:!1,editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/tutorials/graphql-playground.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,sidebar_label:"Play with GraphQL (5 min)"},sidebar:"tutorialSidebar",previous:{title:"Branding intro (5 min)",permalink:"/nblocks-docs/docs/essentials/first-branding"},next:{title:"Your first controller (5 min)",permalink:"/nblocks-docs/docs/tutorials/querying-first-data"}},s={},p=[{value:"Familiar yourself with the playground",id:"familiar-yourself-with-the-playground",level:2},{value:"Run your first query",id:"run-your-first-query",level:2},{value:"Use this info and run your second query",id:"use-this-info-and-run-your-second-query",level:2}],u={toc:p};function d(e){let{components:t,...o}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"play-with-graphql-playground"},"Play with GraphQL playground"),(0,a.kt)("p",null,"Right after finishing ",(0,a.kt)("a",{parentName:"p",href:"/docs/essentials/quickstart"},"quickstart")," we've made it so you got access to a web based editor playground to query and mutate the GraphQL endpoints.\nThis playground lives under ",(0,a.kt)("a",{parentName:"p",href:"http://localhost:3000/graphql"},"http://localhost:3000/graphql"),"."),(0,a.kt)("p",null,"We really like the power of ",(0,a.kt)("a",{parentName:"p",href:"https://graphql.org/"},"GraphQL")," and many of the views that comes packed in our frontent plugins use this technology."),(0,a.kt)("h2",{id:"familiar-yourself-with-the-playground"},"Familiar yourself with the playground"),(0,a.kt)("img",{src:n(8668).Z,alt:"Branding",className:""}),(0,a.kt)("p",null,"Go ahead, start your backend server and open the playground by clicking ",(0,a.kt)("a",{parentName:"p",href:"http://localhost:3000/graphql"},"http://localhost:3000/graphql"),"."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"On the right hand side you have an inline documentation for our pre existing queries and mutations."),(0,a.kt)("li",{parentName:"ul"},"On the left side you write your queries and click the play button to run theme"),(0,a.kt)("li",{parentName:"ul"},"The results are shown in the middle.")),(0,a.kt)("h2",{id:"run-your-first-query"},"Run your first query"),(0,a.kt)("p",null,"We're going to start simple. Let's list your current Tenants with their ",(0,a.kt)("inlineCode",{parentName:"p"},"ID"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"name")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"plan")," fields."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"For this example we need to relax the security a bit.\nMake sure all graphql endpoints allow ",(0,a.kt)("em",{parentName:"p"},"ANONYMOUS")," calls by updating the resourceMappings.json file and restart the backend server."),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="nblocks/config/resourceMappings.json"',title:'"nblocks/config/resourceMappings.json"'},'{\n    "graphql/**": "ANONYMOUS",\n}\n'))),(0,a.kt)("p",null,"Let's go! "),(0,a.kt)("p",null,"Add this to your left hand side editor in the playground and click play."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-graphql"},"query {\n  listTenants {\n    id\n    name\n    plan\n  }\n}\n")),(0,a.kt)("p",null,"This call will make it to your backend server and later out to the Nblocks Platform and back. You should see something like this as a response in the middle lane."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "listTenants": [\n      {\n        "id": "61d6bd08faf9710008b984c7",\n        "name": "My first demo workspace",\n        "plan": "ESSENTIAL"\n      }\n    ]\n  }\n}\n')),(0,a.kt)("p",null,"Cool! \ud83d\udca5"),(0,a.kt)("p",null,"That's our first tenant."),(0,a.kt)("h2",{id:"use-this-info-and-run-your-second-query"},"Use this info and run your second query"),(0,a.kt)("p",null,"Now we turn the notch up a little \ud83d\ude09.",(0,a.kt)("br",{parentName:"p"}),"\n","We want to list the users of this particular tenant we saw in the previous response.\nWe got two options here: Either we login as a real user and provide our copy pasted security context to our playground request or we use a much more simple approach and just provide the tenant id as value.\nI strongly recommend the second option in this case."),(0,a.kt)("p",null,"Did you see that variable area on the bottom right of the playground? Here's where you can add variables and headers to your future request."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Click HTTP HEADERS"),(0,a.kt)("li",{parentName:"ol"},"Add the following header value, where the id should be ",(0,a.kt)("strong",{parentName:"li"},"your tenant id from the earlier response"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{"x-tenant-id":"61d6bd08faf9710008b984c7"}\n')),(0,a.kt)("p",null,"It should look something like this:"),(0,a.kt)("img",{src:n(7645).Z,alt:"headers",className:"screenshot"}),(0,a.kt)("p",null,"Perfect! We can now add the second query which will list the users of this tenant and populate the fields, ",(0,a.kt)("inlineCode",{parentName:"p"},"ID"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"fullName")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"role"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-graphql"},"query {\n  listUsers {\n    id\n    fullName\n    role\n  }\n}\n")),(0,a.kt)("p",null,"Click run and wait for the result. It should look something like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "listUsers": [\n      {\n        "id": "61d6bd08faf9710008b984ca",\n        "fullName": "John Doe",\n        "role": "OWNER"\n      }\n    ]\n  }\n}\n')),(0,a.kt)("p",null,"Can you see what more fields are available on the User type? Use the doc and try different queries."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Voila! Thats all for now"),"\ud83d\udc68\ud83c\udffb\u200d\ud83c\udf73"),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"While you develop your app and add your own GraphQL resolvers with queries and mutations, this interactive doc and playground is going to update itself.\nThis is a great way to test the functionality.")))}d.isMDXComponent=!0},8668:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/graphql-playground-1-548651b5efa9319e2fb3a752e7184026.png"},7645:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/graphql-playground-2-0bdaeb338e2ed370e78f877c9c440b43.png"}}]);